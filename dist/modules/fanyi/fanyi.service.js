'use strict';function _0x71e0(_0x250e9e,_0x51d6b3){const _0x66151b=_0x6615();return _0x71e0=function(_0x71e078,_0x519dc1){_0x71e078=_0x71e078-0x79;let _0x4a017d=_0x66151b[_0x71e078];return _0x4a017d;},_0x71e0(_0x250e9e,_0x51d6b3);}const _0x1c9556=_0x71e0;(function(_0x551b51,_0x97ccd2){const _0x5b2bfe=_0x71e0,_0x1ce97f=_0x551b51();while(!![]){try{const _0x406d44=parseInt(_0x5b2bfe(0x8f))/0x1*(-parseInt(_0x5b2bfe(0x7c))/0x2)+parseInt(_0x5b2bfe(0x8a))/0x3+parseInt(_0x5b2bfe(0x93))/0x4*(-parseInt(_0x5b2bfe(0x80))/0x5)+-parseInt(_0x5b2bfe(0x8b))/0x6+parseInt(_0x5b2bfe(0x9e))/0x7*(parseInt(_0x5b2bfe(0x87))/0x8)+-parseInt(_0x5b2bfe(0x79))/0x9+-parseInt(_0x5b2bfe(0xa3))/0xa*(-parseInt(_0x5b2bfe(0x7e))/0xb);if(_0x406d44===_0x97ccd2)break;else _0x1ce97f['push'](_0x1ce97f['shift']());}catch(_0x35ed07){_0x1ce97f['push'](_0x1ce97f['shift']());}}}(_0x6615,0x66703));function _0x6615(){const _0x26a571=['__esModule','defineProperty','16SSsJJx','FanyiService','toString','1663647CiWvhM','1433064UNNfsL','now','BAD_REQUEST','function','335uasLbB','length','HttpStatus','res:\x20','112tDhIDR','./../globalConfig/globalConfig.service','getOwnPropertyDescriptor','log','digest','axios','baiduFanyiSecret','createHash','default','__decorate','md5','2686201IIiZUn','GlobalConfigService','object','__metadata','HttpException','25530ueZgLE','decorate','4027959kJXXzC','hex','globalConfigService','1546ywXJzm','getConfigs','2046PHTpEa','design:paramtypes','77135CMGbjc','dst','翻译失败[','@nestjs/common','application/x-www-form-urlencoded'];_0x6615=function(){return _0x26a571;};return _0x6615();}var __decorate=this&&this[_0x1c9556(0x9c)]||function(_0x4bf93a,_0x46e9d,_0x326c0e,_0x4f93a5){const _0x8731d9=_0x1c9556;var _0x21be44=arguments[_0x8731d9(0x90)],_0x5222ae=_0x21be44<0x3?_0x46e9d:_0x4f93a5===null?_0x4f93a5=Object[_0x8731d9(0x95)](_0x46e9d,_0x326c0e):_0x4f93a5,_0x1f474d;if(typeof Reflect===_0x8731d9(0xa0)&&typeof Reflect[_0x8731d9(0xa4)]===_0x8731d9(0x8e))_0x5222ae=Reflect['decorate'](_0x4bf93a,_0x46e9d,_0x326c0e,_0x4f93a5);else{for(var _0x39fd4f=_0x4bf93a['length']-0x1;_0x39fd4f>=0x0;_0x39fd4f--)if(_0x1f474d=_0x4bf93a[_0x39fd4f])_0x5222ae=(_0x21be44<0x3?_0x1f474d(_0x5222ae):_0x21be44>0x3?_0x1f474d(_0x46e9d,_0x326c0e,_0x5222ae):_0x1f474d(_0x46e9d,_0x326c0e))||_0x5222ae;}return _0x21be44>0x3&&_0x5222ae&&Object[_0x8731d9(0x86)](_0x46e9d,_0x326c0e,_0x5222ae),_0x5222ae;},__metadata=this&&this[_0x1c9556(0xa1)]||function(_0x5ef59d,_0x42824a){const _0x48b5b0=_0x1c9556;if(typeof Reflect===_0x48b5b0(0xa0)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x5ef59d,_0x42824a);};Object[_0x1c9556(0x86)](exports,_0x1c9556(0x85),{'value':!![]}),exports[_0x1c9556(0x88)]=void 0x0;const globalConfig_service_1=require(_0x1c9556(0x94)),common_1=require(_0x1c9556(0x83)),axios_1=require(_0x1c9556(0x98)),crypto=require('crypto');let FanyiService=class FanyiService{constructor(_0x4e1c7e){const _0x39fbe2=_0x1c9556;this[_0x39fbe2(0x7b)]=_0x4e1c7e;}async['convertToEnglish'](_0x5d96eb){const _0x5b8a20=_0x1c9556;if(!_0x5d96eb)throw new common_1[(_0x5b8a20(0xa2))]('请输入要翻译的内容!',common_1[_0x5b8a20(0x91)]['BAD_REQUEST']);const {baiduFanyiAppId:_0x239a77,baiduFanyiSecret:_0x4fc868}=await this[_0x5b8a20(0x7b)][_0x5b8a20(0x7d)](['baiduFanyiAppId',_0x5b8a20(0x99)]);if(!_0x239a77||!_0x4fc868)throw new common_1[(_0x5b8a20(0xa2))]('当前管理员还未开放翻译服务、请联系管理员开通吧!',common_1[_0x5b8a20(0x91)]['BAD_REQUEST']);const _0x2de6d8=Date[_0x5b8a20(0x8c)]()['toString'](),_0x807723=crypto[_0x5b8a20(0x9a)](_0x5b8a20(0x9d))['update'](_0x239a77+_0x5d96eb+_0x2de6d8+_0x4fc868)[_0x5b8a20(0x97)](_0x5b8a20(0x7a)),_0x10412d='https://fanyi-api.baidu.com/api/trans/vip/translate',_0x41164b={'q':_0x5d96eb[_0x5b8a20(0x89)](),'from':'auto','to':'en','appid':_0x239a77,'salt':_0x2de6d8,'sign':_0x807723},_0x44fcf0=await axios_1[_0x5b8a20(0x9b)]['post'](_0x10412d,_0x41164b,{'headers':{'Content-Type':_0x5b8a20(0x84)}}),{from:_0x3e11f9,to:_0x267879,trans_result:_0x5c28f5,error_code:_0x55576f,error_msg:_0x50746f}=_0x44fcf0['data'];if(_0x55576f){console[_0x5b8a20(0x96)](_0x5b8a20(0x92),_0x44fcf0);throw new common_1[(_0x5b8a20(0xa2))]('翻译失败['+_0x55576f+']['+_0x50746f+']!',common_1[_0x5b8a20(0x91)][_0x5b8a20(0x8d)]);}if(!_0x5c28f5||!_0x5c28f5[_0x5b8a20(0x90)]){console[_0x5b8a20(0x96)]('res:\x20',_0x44fcf0);throw new common_1[(_0x5b8a20(0xa2))](_0x5b8a20(0x82)+_0x55576f+']['+_0x50746f+']!',common_1[_0x5b8a20(0x91)][_0x5b8a20(0x8d)]);}else{}return _0x5c28f5[0x0][_0x5b8a20(0x81)];}};FanyiService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x1c9556(0x7f),[globalConfig_service_1[_0x1c9556(0x9f)]])],FanyiService),exports[_0x1c9556(0x88)]=FanyiService;