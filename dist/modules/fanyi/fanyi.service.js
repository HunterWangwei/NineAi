'use strict';function _0x1a41(_0x4bd8e3,_0xa4cc5c){const _0x7e21ce=_0x7e21();return _0x1a41=function(_0x1a4160,_0x1194f3){_0x1a4160=_0x1a4160-0x133;let _0x28d4bc=_0x7e21ce[_0x1a4160];return _0x28d4bc;},_0x1a41(_0x4bd8e3,_0xa4cc5c);}function _0x7e21(){const _0x43f605=['function','HttpException','createHash','GlobalConfigService','FanyiService','1MsUqea','22JaechQ','crypto','application/x-www-form-urlencoded','978848xbTsYQ','md5','__decorate','136tHgtiR','Injectable','decorate','globalConfigService','design:paramtypes','2460GPqVWh','res:\x20','object','12070tMcWki','log','metadata','1289440XzEruD','BAD_REQUEST','hex','dst','./../globalConfig/globalConfig.service','__esModule','default','convertToEnglish','HttpStatus','__metadata','6894QRDEUo','当前管理员还未开放翻译服务、请联系管理员开通吧!','update','baiduFanyiSecret','getOwnPropertyDescriptor','18QIPzGK','getConfigs','length','toString','defineProperty','post','95772Sgywnm','请输入要翻译的内容!','195643ArYDFX','data','55164QxJmLK'];_0x7e21=function(){return _0x43f605;};return _0x7e21();}const _0x587d0d=_0x1a41;(function(_0x4614a2,_0x5eb48f){const _0x390f15=_0x1a41,_0x5627b5=_0x4614a2();while(!![]){try{const _0x3dd154=-parseInt(_0x390f15(0x157))/0x1*(-parseInt(_0x390f15(0x138))/0x2)+parseInt(_0x390f15(0x14d))/0x3+-parseInt(_0x390f15(0x15b))/0x4+parseInt(_0x390f15(0x163))/0x5*(-parseInt(_0x390f15(0x142))/0x6)+-parseInt(_0x390f15(0x14f))/0x7*(-parseInt(_0x390f15(0x15e))/0x8)+-parseInt(_0x390f15(0x147))/0x9*(-parseInt(_0x390f15(0x135))/0xa)+-parseInt(_0x390f15(0x158))/0xb*(-parseInt(_0x390f15(0x151))/0xc);if(_0x3dd154===_0x5eb48f)break;else _0x5627b5['push'](_0x5627b5['shift']());}catch(_0x216781){_0x5627b5['push'](_0x5627b5['shift']());}}}(_0x7e21,0x56455));var __decorate=this&&this[_0x587d0d(0x15d)]||function(_0xab9864,_0x3eddf8,_0x5c1cd4,_0x3602e7){const _0x4cdf9d=_0x587d0d;var _0x2611f7=arguments[_0x4cdf9d(0x149)],_0x955379=_0x2611f7<0x3?_0x3eddf8:_0x3602e7===null?_0x3602e7=Object[_0x4cdf9d(0x146)](_0x3eddf8,_0x5c1cd4):_0x3602e7,_0x3aabdd;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x4cdf9d(0x152))_0x955379=Reflect[_0x4cdf9d(0x160)](_0xab9864,_0x3eddf8,_0x5c1cd4,_0x3602e7);else{for(var _0x2445cb=_0xab9864[_0x4cdf9d(0x149)]-0x1;_0x2445cb>=0x0;_0x2445cb--)if(_0x3aabdd=_0xab9864[_0x2445cb])_0x955379=(_0x2611f7<0x3?_0x3aabdd(_0x955379):_0x2611f7>0x3?_0x3aabdd(_0x3eddf8,_0x5c1cd4,_0x955379):_0x3aabdd(_0x3eddf8,_0x5c1cd4))||_0x955379;}return _0x2611f7>0x3&&_0x955379&&Object[_0x4cdf9d(0x14b)](_0x3eddf8,_0x5c1cd4,_0x955379),_0x955379;},__metadata=this&&this[_0x587d0d(0x141)]||function(_0x11e71c,_0x4de02e){const _0x2028c6=_0x587d0d;if(typeof Reflect===_0x2028c6(0x134)&&typeof Reflect[_0x2028c6(0x137)]===_0x2028c6(0x152))return Reflect[_0x2028c6(0x137)](_0x11e71c,_0x4de02e);};Object[_0x587d0d(0x14b)](exports,_0x587d0d(0x13d),{'value':!![]}),exports[_0x587d0d(0x156)]=void 0x0;const globalConfig_service_1=require(_0x587d0d(0x13c)),common_1=require('@nestjs/common'),axios_1=require('axios'),crypto=require(_0x587d0d(0x159));let FanyiService=class FanyiService{constructor(_0x449701){const _0x32e5ed=_0x587d0d;this[_0x32e5ed(0x161)]=_0x449701;}async[_0x587d0d(0x13f)](_0x4c0e0c){const _0x9fc130=_0x587d0d;if(!_0x4c0e0c)throw new common_1[(_0x9fc130(0x153))](_0x9fc130(0x14e),common_1[_0x9fc130(0x140)][_0x9fc130(0x139)]);const {baiduFanyiAppId:_0x4a252a,baiduFanyiSecret:_0x6d756d}=await this[_0x9fc130(0x161)][_0x9fc130(0x148)](['baiduFanyiAppId',_0x9fc130(0x145)]);if(!_0x4a252a||!_0x6d756d)throw new common_1['HttpException'](_0x9fc130(0x143),common_1[_0x9fc130(0x140)][_0x9fc130(0x139)]);const _0x57bffb=Date['now']()[_0x9fc130(0x14a)](),_0x5edf2b=crypto[_0x9fc130(0x154)](_0x9fc130(0x15c))[_0x9fc130(0x144)](_0x4a252a+_0x4c0e0c+_0x57bffb+_0x6d756d)['digest'](_0x9fc130(0x13a)),_0xf493e5='https://fanyi-api.baidu.com/api/trans/vip/translate',_0x19d815={'q':_0x4c0e0c['toString'](),'from':'auto','to':'en','appid':_0x4a252a,'salt':_0x57bffb,'sign':_0x5edf2b},_0x4324da=await axios_1[_0x9fc130(0x13e)][_0x9fc130(0x14c)](_0xf493e5,_0x19d815,{'headers':{'Content-Type':_0x9fc130(0x15a)}}),{from:_0x2eb1cb,to:_0x44ce8d,trans_result:_0x67ceab,error_code:_0x483caa,error_msg:_0x15d78e}=_0x4324da[_0x9fc130(0x150)];if(_0x483caa){console[_0x9fc130(0x136)](_0x9fc130(0x133),_0x4324da);throw new common_1[(_0x9fc130(0x153))]('翻译失败['+_0x483caa+']['+_0x15d78e+']!',common_1['HttpStatus'][_0x9fc130(0x139)]);}if(!_0x67ceab||!_0x67ceab[_0x9fc130(0x149)]){console[_0x9fc130(0x136)](_0x9fc130(0x133),_0x4324da);throw new common_1[(_0x9fc130(0x153))]('翻译失败['+_0x483caa+']['+_0x15d78e+']!',common_1['HttpStatus'][_0x9fc130(0x139)]);}else{}return _0x67ceab[0x0][_0x9fc130(0x13b)];}};FanyiService=__decorate([(0x0,common_1[_0x587d0d(0x15f)])(),__metadata(_0x587d0d(0x162),[globalConfig_service_1[_0x587d0d(0x155)]])],FanyiService),exports[_0x587d0d(0x156)]=FanyiService;