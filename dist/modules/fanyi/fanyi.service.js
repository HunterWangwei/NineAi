'use strict';const _0x4257ad=_0x2cdf;function _0x41e6(){const _0x3abf50=['__decorate','function','metadata','defineProperty','getConfigs','dst','5204452aYQzcM','update','请输入要翻译的内容!','1985480RcBjWG','baiduFanyiSecret','decorate','convertToEnglish','data','getOwnPropertyDescriptor','post','design:paramtypes','268751fcllxh','574930kogZCt','default','digest','BAD_REQUEST','9VXioTC','log','2hULLrm','globalConfigService','21144oeVSAp','43352dlLadC','object','当前管理员还未开放翻译服务、请联系管理员开通吧!','md5','hex','__esModule','baiduFanyiAppId','HttpStatus','679gIytbe','FanyiService','crypto','__metadata','Injectable','翻译失败[','axios','toString','application/x-www-form-urlencoded','res:\x20','367788Eaqlaf','HttpException','15RJyIqJ','length','auto','GlobalConfigService'];_0x41e6=function(){return _0x3abf50;};return _0x41e6();}(function(_0x3d7cd3,_0x481006){const _0xc79dff=_0x2cdf,_0x3f5d75=_0x3d7cd3();while(!![]){try{const _0x37ac0c=parseInt(_0xc79dff(0x1b5))/0x1*(parseInt(_0xc79dff(0x1bc))/0x2)+parseInt(_0xc79dff(0x1a0))/0x3*(-parseInt(_0xc79dff(0x1d1))/0x4)+parseInt(_0xc79dff(0x1ad))/0x5+-parseInt(_0xc79dff(0x1be))/0x6*(parseInt(_0xc79dff(0x1c7))/0x7)+parseInt(_0xc79dff(0x1bf))/0x8+-parseInt(_0xc79dff(0x1ba))/0x9*(parseInt(_0xc79dff(0x1b6))/0xa)+parseInt(_0xc79dff(0x1aa))/0xb;if(_0x37ac0c===_0x481006)break;else _0x3f5d75['push'](_0x3f5d75['shift']());}catch(_0x8a7f93){_0x3f5d75['push'](_0x3f5d75['shift']());}}}(_0x41e6,0x45a9e));var __decorate=this&&this[_0x4257ad(0x1a4)]||function(_0x1d1f6c,_0x5d4e48,_0x135356,_0x47692f){const _0x5095bf=_0x4257ad;var _0x500728=arguments['length'],_0x5b1db4=_0x500728<0x3?_0x5d4e48:_0x47692f===null?_0x47692f=Object[_0x5095bf(0x1b2)](_0x5d4e48,_0x135356):_0x47692f,_0x1c9083;if(typeof Reflect===_0x5095bf(0x1c0)&&typeof Reflect[_0x5095bf(0x1af)]===_0x5095bf(0x1a5))_0x5b1db4=Reflect[_0x5095bf(0x1af)](_0x1d1f6c,_0x5d4e48,_0x135356,_0x47692f);else{for(var _0x375092=_0x1d1f6c[_0x5095bf(0x1a1)]-0x1;_0x375092>=0x0;_0x375092--)if(_0x1c9083=_0x1d1f6c[_0x375092])_0x5b1db4=(_0x500728<0x3?_0x1c9083(_0x5b1db4):_0x500728>0x3?_0x1c9083(_0x5d4e48,_0x135356,_0x5b1db4):_0x1c9083(_0x5d4e48,_0x135356))||_0x5b1db4;}return _0x500728>0x3&&_0x5b1db4&&Object[_0x5095bf(0x1a7)](_0x5d4e48,_0x135356,_0x5b1db4),_0x5b1db4;},__metadata=this&&this[_0x4257ad(0x1ca)]||function(_0x51989a,_0x536e2a){const _0x4b1542=_0x4257ad;if(typeof Reflect===_0x4b1542(0x1c0)&&typeof Reflect[_0x4b1542(0x1a6)]===_0x4b1542(0x1a5))return Reflect[_0x4b1542(0x1a6)](_0x51989a,_0x536e2a);};Object[_0x4257ad(0x1a7)](exports,_0x4257ad(0x1c4),{'value':!![]}),exports[_0x4257ad(0x1c8)]=void 0x0;const globalConfig_service_1=require('./../globalConfig/globalConfig.service'),common_1=require('@nestjs/common'),axios_1=require(_0x4257ad(0x1cd)),crypto=require(_0x4257ad(0x1c9));function _0x2cdf(_0x58dde7,_0x164044){const _0x41e677=_0x41e6();return _0x2cdf=function(_0x2cdfbe,_0x24056c){_0x2cdfbe=_0x2cdfbe-0x1a0;let _0x4e6e43=_0x41e677[_0x2cdfbe];return _0x4e6e43;},_0x2cdf(_0x58dde7,_0x164044);}let FanyiService=class FanyiService{constructor(_0x9ab876){const _0x348fb9=_0x4257ad;this[_0x348fb9(0x1bd)]=_0x9ab876;}async[_0x4257ad(0x1b0)](_0x5681a5){const _0x38e56e=_0x4257ad;if(!_0x5681a5)throw new common_1[(_0x38e56e(0x1d2))](_0x38e56e(0x1ac),common_1['HttpStatus'][_0x38e56e(0x1b9)]);const {baiduFanyiAppId:_0x580575,baiduFanyiSecret:_0x26641c}=await this['globalConfigService'][_0x38e56e(0x1a8)]([_0x38e56e(0x1c5),_0x38e56e(0x1ae)]);if(!_0x580575||!_0x26641c)throw new common_1['HttpException'](_0x38e56e(0x1c1),common_1['HttpStatus'][_0x38e56e(0x1b9)]);const _0x1cb898=Date['now']()[_0x38e56e(0x1ce)](),_0x19e341=crypto['createHash'](_0x38e56e(0x1c2))[_0x38e56e(0x1ab)](_0x580575+_0x5681a5+_0x1cb898+_0x26641c)[_0x38e56e(0x1b8)](_0x38e56e(0x1c3)),_0x3f4f8d='https://fanyi-api.baidu.com/api/trans/vip/translate',_0x2d6000={'q':_0x5681a5[_0x38e56e(0x1ce)](),'from':_0x38e56e(0x1a2),'to':'en','appid':_0x580575,'salt':_0x1cb898,'sign':_0x19e341},_0xa53af2=await axios_1[_0x38e56e(0x1b7)][_0x38e56e(0x1b3)](_0x3f4f8d,_0x2d6000,{'headers':{'Content-Type':_0x38e56e(0x1cf)}}),{from:_0x19dccd,to:_0x2a2abc,trans_result:_0x312eef,error_code:_0x514829,error_msg:_0x418d7a}=_0xa53af2[_0x38e56e(0x1b1)];if(_0x514829){console['log']('res:\x20',_0xa53af2);throw new common_1[(_0x38e56e(0x1d2))](_0x38e56e(0x1cc)+_0x514829+']['+_0x418d7a+']!',common_1[_0x38e56e(0x1c6)][_0x38e56e(0x1b9)]);}if(!_0x312eef||!_0x312eef[_0x38e56e(0x1a1)]){console[_0x38e56e(0x1bb)](_0x38e56e(0x1d0),_0xa53af2);throw new common_1['HttpException'](_0x38e56e(0x1cc)+_0x514829+']['+_0x418d7a+']!',common_1[_0x38e56e(0x1c6)][_0x38e56e(0x1b9)]);}else{}return _0x312eef[0x0][_0x38e56e(0x1a9)];}};FanyiService=__decorate([(0x0,common_1[_0x4257ad(0x1cb)])(),__metadata(_0x4257ad(0x1b4),[globalConfig_service_1[_0x4257ad(0x1a3)]])],FanyiService),exports[_0x4257ad(0x1c8)]=FanyiService;