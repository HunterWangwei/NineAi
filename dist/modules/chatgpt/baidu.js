'use strict';const _0x1afd0a=_0x565a;(function(_0x192fbe,_0x5976e3){const _0x2708d3=_0x565a,_0x360379=_0x192fbe();while(!![]){try{const _0x5decfe=parseInt(_0x2708d3(0xf5))/0x1*(parseInt(_0x2708d3(0xd9))/0x2)+parseInt(_0x2708d3(0xf1))/0x3*(parseInt(_0x2708d3(0xdc))/0x4)+parseInt(_0x2708d3(0xe3))/0x5+parseInt(_0x2708d3(0xdf))/0x6+-parseInt(_0x2708d3(0xef))/0x7*(parseInt(_0x2708d3(0xda))/0x8)+parseInt(_0x2708d3(0xd4))/0x9*(-parseInt(_0x2708d3(0xd2))/0xa)+-parseInt(_0x2708d3(0xdb))/0xb*(-parseInt(_0x2708d3(0xf3))/0xc);if(_0x5decfe===_0x5976e3)break;else _0x360379['push'](_0x360379['shift']());}catch(_0x2c7e01){_0x360379['push'](_0x360379['shift']());}}}(_0x16e5,0x86df1));function _0x565a(_0x496a35,_0x10209a){const _0x16e5ac=_0x16e5();return _0x565a=function(_0x565a46,_0x250199){_0x565a46=_0x565a46-0xd2;let _0x149b87=_0x16e5ac[_0x565a46];return _0x149b87;},_0x565a(_0x496a35,_0x10209a);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x1afd0a(0xe5)]=exports[_0x1afd0a(0xf4)]=void 0x0;function _0x16e5(){const _0x22685b=['data:\x20','data','qianfan_chinese_llama_2_7b','2DjyRXw','10232MaAwur','1639psbqMX','4mdHrfr','log','filter','401634bSweXE','map','toLowerCase','post','529280HLsCqx','parse','sendMessageFromBaidu','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','&client_secret=','toString','application/json','split','trim','axios','then','end','2947WBuWQE','POST','2558799otMBNA','keys','12612rEgHbl','getAccessToken','695263hFkDNT','chatglm2_6b_32k','715180GuUTES','replace','99dNVcCc','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='];_0x16e5=function(){return _0x22685b;};return _0x16e5();}const axios=require(_0x1afd0a(0xec)),getApiModelMaps=()=>{const _0x5ea691=_0x1afd0a,_0x1f960c={},_0x89c665={'ERNIE-Bot':'completions','ERNIE-Bot-turbo':'eb-instant','BLOOMZ-7B':'bloomz_7b1','ERNIE-Bot-4':'completions_pro','Llama-2-7b-chat':'llama_2_7b','Llama-2-13b-chat':'llama_2_13b','ChatGLM2-6B-32K':_0x5ea691(0xf6),'Qianfan-Chinese-Llama-2-7B':_0x5ea691(0xd8)};return Object[_0x5ea691(0xf2)](_0x89c665)[_0x5ea691(0xe0)](_0x326a0d=>{const _0x3f41a0=_0x5ea691;_0x1f960c[''+_0x326a0d[_0x3f41a0(0xe1)]()]=_0x89c665[_0x326a0d];}),_0x1f960c;};function getAccessToken(_0x4d52f4,_0x5ef660){const _0x2d228f=_0x1afd0a,_0x277deb=_0x2d228f(0xd5)+_0x4d52f4+_0x2d228f(0xe7)+_0x5ef660;return new Promise((_0x547749,_0x4fcfbc)=>{const _0xe2d5ed=_0x2d228f;axios[_0xe2d5ed(0xe2)](_0x277deb)['then'](_0x4723f8=>{const _0x318bb8=_0xe2d5ed;console[_0x318bb8(0xdd)]('response:\x20',_0x4723f8),_0x547749(_0x4723f8[_0x318bb8(0xd7)]['access_token']);})['catch'](_0x453a68=>{_0x4fcfbc(_0x453a68);});});}exports['getAccessToken']=getAccessToken;function sendMessageFromBaidu(_0x53d3eb,{onProgress:_0x2fac7d,accessToken:_0x5dd5c3,model:_0x28e50c,temperature:temperature=0.95}){const _0xb83789=_0x1afd0a,_0x121791=getApiModelMaps()[_0x28e50c[_0xb83789(0xeb)]()['toLowerCase']()];return new Promise((_0x23fa60,_0x546c18)=>{const _0x5a1bb6=_0xb83789,_0x221ed6=_0x5a1bb6(0xe6)+_0x121791+'?access_token='+_0x5dd5c3,_0x1d0ad2={'method':_0x5a1bb6(0xf0),'url':_0x221ed6,'responseType':'stream','headers':{'Content-Type':_0x5a1bb6(0xe9)},'data':{'stream':!![],'messages':_0x53d3eb}};axios(_0x1d0ad2)[_0x5a1bb6(0xed)](_0xa925da=>{const _0x260b5c=_0x5a1bb6,_0x2aa41e=_0xa925da['data'];let _0x418252={},_0x581866='',_0x54f6f0='';_0x2aa41e['on']('data',_0x400deb=>{const _0x4840f6=_0x565a,_0x1d5f28=_0x400deb[_0x4840f6(0xe8)]()[_0x4840f6(0xea)]('\x0a\x0a')[_0x4840f6(0xde)](_0x389f8f=>_0x389f8f['trim']()!=='');for(const _0x4eda2a of _0x1d5f28){const _0x5117d8=_0x4eda2a[_0x4840f6(0xd3)](_0x4840f6(0xd6),'');try{const _0x445c1a=_0x581866+_0x5117d8,_0x485423=JSON[_0x4840f6(0xe4)](_0x445c1a);_0x581866='';const {is_end:_0x494108,result:_0x1e0f1d}=_0x485423;_0x1e0f1d&&(_0x54f6f0+=_0x1e0f1d),_0x494108&&(_0x418252=_0x485423,_0x418252['text']=_0x54f6f0),_0x2fac7d(_0x485423);}catch(_0x165956){_0x581866=_0x5117d8;}}}),_0x2aa41e['on'](_0x260b5c(0xee),()=>{_0x54f6f0='',_0x581866='',_0x23fa60(_0x418252);});})['catch'](_0x5daf9f=>{_0x546c18(new Error(_0x5daf9f));});});}exports[_0x1afd0a(0xe5)]=sendMessageFromBaidu;