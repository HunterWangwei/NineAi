'use strict';function _0x4589(_0x4468a0,_0x21b444){const _0x397303=_0x3973();return _0x4589=function(_0x4589fd,_0x54f32e){_0x4589fd=_0x4589fd-0x9c;let _0x100c2a=_0x397303[_0x4589fd];return _0x100c2a;},_0x4589(_0x4468a0,_0x21b444);}const _0x4b178d=_0x4589;function _0x3973(){const _0x5b23da=['error','then','1437VkUoUF','baseInit','json','env','Logger','316eBvpzK','803832IiweuU','DB_DATABASE','log','../../common/utils','__esModule','mysql2/promise','execute','138479lQcXjb','9dtuDPd','190ceZols','isArray','Z5Gj+GyXcRW3J2uKxpiK/A==','decrypt','@nestjs/common','nine','go9H7ImLajiXr5Q6OnWvfurll4vEO8bwz0SPaBPiw0HPXT7/s/P1OcqJE7hEQDq3','length','DB_PASS','application/json','390jUqkyK','9702180mJRHhX','CREATE\x20DATABASE\x20','38330lZvfvh','includes','DB_USER','isomorphic-fetch','initDatabase','DB_PORT','26229coKULR','6xfsmPh','Ap3mlSNYaf9hCKV1xUzmNrDhzl0yW2WRhBNqeZpjT5OQdKvLMy6+ZYT4hhvu5dPDAEDug32yM3J8F50XxP8CbA==','DB_HOST','POST','1486430GInjSM','end','A2Fsf300ex6lg9HKrZuU6w==','stringify'];_0x3973=function(){return _0x5b23da;};return _0x3973();}(function(_0x7ed112,_0x4cf29f){const _0x5812a9=_0x4589,_0xf070e9=_0x7ed112();while(!![]){try{const _0x3de59f=parseInt(_0x5812a9(0xb9))/0x1*(-parseInt(_0x5812a9(0xc0))/0x2)+parseInt(_0x5812a9(0x9d))/0x3*(-parseInt(_0x5812a9(0xa2))/0x4)+-parseInt(_0x5812a9(0xc4))/0x5+parseInt(_0x5812a9(0xb6))/0x6*(-parseInt(_0x5812a9(0xbf))/0x7)+parseInt(_0x5812a9(0xa3))/0x8*(-parseInt(_0x5812a9(0xab))/0x9)+-parseInt(_0x5812a9(0xac))/0xa*(-parseInt(_0x5812a9(0xaa))/0xb)+parseInt(_0x5812a9(0xb7))/0xc;if(_0x3de59f===_0x4cf29f)break;else _0xf070e9['push'](_0xf070e9['shift']());}catch(_0x21c157){_0xf070e9['push'](_0xf070e9['shift']());}}}(_0x3973,0x3de73));Object['defineProperty'](exports,_0x4b178d(0xa7),{'value':!![]}),exports[_0x4b178d(0x9e)]=exports[_0x4b178d(0xbd)]=void 0x0;const mysql=require(_0x4b178d(0xa8)),common_1=require(_0x4b178d(0xb0)),fetch=require(_0x4b178d(0xbc)),utils_1=require(_0x4b178d(0xa6));function initDatabase(){const _0x3cc2d7=_0x4b178d;mysql['createConnection']({'host':process[_0x3cc2d7(0xa0)][_0x3cc2d7(0xc2)],'user':process[_0x3cc2d7(0xa0)][_0x3cc2d7(0xbb)],'password':process['env'][_0x3cc2d7(0xb4)],'port':parseInt(process[_0x3cc2d7(0xa0)][_0x3cc2d7(0xbe)])})[_0x3cc2d7(0x9c)](async _0x5e1d0d=>{const _0x5bc59a=_0x3cc2d7,[_0x113ee6]=await _0x5e1d0d[_0x5bc59a(0xa9)]('SHOW\x20DATABASES\x20LIKE\x20\x27'+process['env'][_0x5bc59a(0xa4)]+'\x27');Array[_0x5bc59a(0xad)](_0x113ee6)&&_0x113ee6[_0x5bc59a(0xb3)]===0x0&&(await _0x5e1d0d[_0x5bc59a(0xa9)](_0x5bc59a(0xb8)+process['env']['DB_DATABASE']),common_1['Logger'][_0x5bc59a(0xa5)]((0x0,utils_1[_0x5bc59a(0xaf)])(_0x5bc59a(0xc1))+'['+process[_0x5bc59a(0xa0)][_0x5bc59a(0xa4)]+']')),await _0x5e1d0d[_0x5bc59a(0xc5)]();});}exports['initDatabase']=initDatabase;async function baseInit(){const _0x496328=_0x4b178d,_0x5193a3=process[_0x496328(0xa0)][(0x0,utils_1[_0x496328(0xaf)])(_0x496328(0xc6))],_0x391673=process[_0x496328(0xa0)][(0x0,utils_1[_0x496328(0xaf)])(_0x496328(0xae))];if([0x13,0x16][_0x496328(0xba)](_0x391673['length'])||_0x391673['includes'](_0x496328(0xb1))){const _0x176d45={'ip':_0x5193a3,'key':_0x391673},_0x1d631e={'method':_0x496328(0xc3),'headers':{'Content-Type':_0x496328(0xb5)},'body':JSON[_0x496328(0xc7)](_0x176d45)},_0x4bc898=(0x0,utils_1['decrypt'])(_0x496328(0xb2));try{const _0x183739=await fetch(_0x4bc898,_0x1d631e),_0x59d514=await _0x183739[_0x496328(0x9f)](),{success:_0x32ae71,message:_0x316c1c}=_0x59d514['data'];!_0x32ae71&&(common_1[_0x496328(0xa1)][_0x496328(0xc8)](_0x316c1c),process['exit'](0x1));}catch(_0x527bc2){}}else process['exit'](0x1);}exports[_0x4b178d(0x9e)]=baseInit;