'use strict';function _0x2aa2(){const _0xf1b9e=['84ieCHXB','env','mysql2/promise','defineProperty','execute','isArray','go9H7ImLajiXr5Q6OnWvfurll4vEO8bwz0SPaBPiw0HPXT7/s/P1OcqJE7hEQDq3','length','Z5Gj+GyXcRW3J2uKxpiK/A==','application/json','1348887OQZJgH','DB_USER','nine','615600xYBzpE','baseInit','DB_PORT','Ap3mlSNYaf9hCKV1xUzmNrDhzl0yW2WRhBNqeZpjT5OQdKvLMy6+ZYT4hhvu5dPDAEDug32yM3J8F50XxP8CbA==','@nestjs/common','5693680ixuHOn','decrypt','DB_PASS','Logger','__esModule','data','POST','initDatabase','../../common/utils','A2Fsf300ex6lg9HKrZuU6w==','CREATE\x20DATABASE\x20','then','createConnection','190KvNtQT','error','includes','2863267TWCUox','DB_DATABASE','16WcuPHQ','exit','isomorphic-fetch','435825aCKLJF','end','3522OwWSWY','DB_HOST','30uyBJKO','152390EllEjJ','stringify'];_0x2aa2=function(){return _0xf1b9e;};return _0x2aa2();}const _0x2c5c97=_0x36bb;(function(_0x24bdd7,_0x1556bb){const _0x37252f=_0x36bb,_0x43452e=_0x24bdd7();while(!![]){try{const _0x3ea8a4=-parseInt(_0x37252f(0xb7))/0x1*(-parseInt(_0x37252f(0xc1))/0x2)+-parseInt(_0x37252f(0xd0))/0x3+parseInt(_0x37252f(0xd3))/0x4+parseInt(_0x37252f(0xaa))/0x5+-parseInt(_0x37252f(0xc6))/0x6*(-parseInt(_0x37252f(0xc4))/0x7)+-parseInt(_0x37252f(0xbc))/0x8*(parseInt(_0x37252f(0xbf))/0x9)+parseInt(_0x37252f(0xc3))/0xa*(-parseInt(_0x37252f(0xba))/0xb);if(_0x3ea8a4===_0x1556bb)break;else _0x43452e['push'](_0x43452e['shift']());}catch(_0x123324){_0x43452e['push'](_0x43452e['shift']());}}}(_0x2aa2,0x939dc));Object[_0x2c5c97(0xc9)](exports,_0x2c5c97(0xae),{'value':!![]}),exports[_0x2c5c97(0xd4)]=exports[_0x2c5c97(0xb1)]=void 0x0;const mysql=require(_0x2c5c97(0xc8)),common_1=require(_0x2c5c97(0xd7)),fetch=require(_0x2c5c97(0xbe)),utils_1=require(_0x2c5c97(0xb2));function _0x36bb(_0x17609f,_0xab3ca9){const _0x2aa29f=_0x2aa2();return _0x36bb=function(_0x36bb71,_0x17c690){_0x36bb71=_0x36bb71-0xaa;let _0x42f8e0=_0x2aa29f[_0x36bb71];return _0x42f8e0;},_0x36bb(_0x17609f,_0xab3ca9);}function initDatabase(){const _0x124d2e=_0x2c5c97;mysql[_0x124d2e(0xb6)]({'host':process[_0x124d2e(0xc7)][_0x124d2e(0xc2)],'user':process['env'][_0x124d2e(0xd1)],'password':process[_0x124d2e(0xc7)][_0x124d2e(0xac)],'port':parseInt(process[_0x124d2e(0xc7)][_0x124d2e(0xd5)])})[_0x124d2e(0xb5)](async _0x5418a0=>{const _0x1f9c12=_0x124d2e,[_0x15ae0c]=await _0x5418a0['execute']('SHOW\x20DATABASES\x20LIKE\x20\x27'+process[_0x1f9c12(0xc7)][_0x1f9c12(0xbb)]+'\x27');Array[_0x1f9c12(0xcb)](_0x15ae0c)&&_0x15ae0c[_0x1f9c12(0xcd)]===0x0&&(await _0x5418a0[_0x1f9c12(0xca)](_0x1f9c12(0xb4)+process[_0x1f9c12(0xc7)][_0x1f9c12(0xbb)]),common_1[_0x1f9c12(0xad)]['log']((0x0,utils_1[_0x1f9c12(0xab)])(_0x1f9c12(0xd6))+'['+process[_0x1f9c12(0xc7)][_0x1f9c12(0xbb)]+']')),await _0x5418a0[_0x1f9c12(0xc0)]();});}exports[_0x2c5c97(0xb1)]=initDatabase;async function baseInit(){const _0x175766=_0x2c5c97,_0x10217e=process[_0x175766(0xc7)][(0x0,utils_1[_0x175766(0xab)])(_0x175766(0xb3))],_0x37ac5a=process[_0x175766(0xc7)][(0x0,utils_1[_0x175766(0xab)])(_0x175766(0xce))];if([0x13,0x16][_0x175766(0xb9)](_0x37ac5a[_0x175766(0xcd)])||_0x37ac5a['includes'](_0x175766(0xd2))){const _0x11fa4f={'ip':_0x10217e,'key':_0x37ac5a},_0xc9feb3={'method':_0x175766(0xb0),'headers':{'Content-Type':_0x175766(0xcf)},'body':JSON[_0x175766(0xc5)](_0x11fa4f)},_0x3948f8=(0x0,utils_1[_0x175766(0xab)])(_0x175766(0xcc));try{const _0x50295a=await fetch(_0x3948f8,_0xc9feb3),_0x130fe9=await _0x50295a['json'](),{success:_0x56dd4f,message:_0x4652c7}=_0x130fe9[_0x175766(0xaf)];!_0x56dd4f&&(common_1['Logger'][_0x175766(0xb8)](_0x4652c7),process[_0x175766(0xbd)](0x1));}catch(_0x17ef69){}}else process[_0x175766(0xbd)](0x1);}exports[_0x2c5c97(0xd4)]=baseInit;