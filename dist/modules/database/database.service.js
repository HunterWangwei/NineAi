'use strict';const _0x2176ae=_0xec19;(function(_0x55618d,_0x4608c6){const _0x2187bb=_0xec19,_0x192713=_0x55618d();while(!![]){try{const _0x77f0d8=-parseInt(_0x2187bb(0x1d9))/0x1*(parseInt(_0x2187bb(0x220))/0x2)+-parseInt(_0x2187bb(0x1d7))/0x3*(-parseInt(_0x2187bb(0x1df))/0x4)+parseInt(_0x2187bb(0x21e))/0x5*(-parseInt(_0x2187bb(0x213))/0x6)+-parseInt(_0x2187bb(0x205))/0x7*(-parseInt(_0x2187bb(0x1c8))/0x8)+-parseInt(_0x2187bb(0x1c7))/0x9+-parseInt(_0x2187bb(0x1d2))/0xa*(-parseInt(_0x2187bb(0x1d5))/0xb)+parseInt(_0x2187bb(0x1e9))/0xc*(parseInt(_0x2187bb(0x1cb))/0xd);if(_0x77f0d8===_0x4608c6)break;else _0x192713['push'](_0x192713['shift']());}catch(_0x3e874f){_0x192713['push'](_0x192713['shift']());}}}(_0x538c,0xc6649));var __decorate=this&&this[_0x2176ae(0x216)]||function(_0x54c5a7,_0x5d4878,_0x30ff43,_0x115231){const _0x26f5b8=_0x2176ae;var _0x1be05c=arguments['length'],_0x3c2fd9=_0x1be05c<0x3?_0x5d4878:_0x115231===null?_0x115231=Object[_0x26f5b8(0x1f6)](_0x5d4878,_0x30ff43):_0x115231,_0x3998d6;if(typeof Reflect===_0x26f5b8(0x1d6)&&typeof Reflect[_0x26f5b8(0x20f)]===_0x26f5b8(0x1fe))_0x3c2fd9=Reflect[_0x26f5b8(0x20f)](_0x54c5a7,_0x5d4878,_0x30ff43,_0x115231);else{for(var _0x4f29f4=_0x54c5a7['length']-0x1;_0x4f29f4>=0x0;_0x4f29f4--)if(_0x3998d6=_0x54c5a7[_0x4f29f4])_0x3c2fd9=(_0x1be05c<0x3?_0x3998d6(_0x3c2fd9):_0x1be05c>0x3?_0x3998d6(_0x5d4878,_0x30ff43,_0x3c2fd9):_0x3998d6(_0x5d4878,_0x30ff43))||_0x3c2fd9;}return _0x1be05c>0x3&&_0x3c2fd9&&Object[_0x26f5b8(0x21d)](_0x5d4878,_0x30ff43,_0x3c2fd9),_0x3c2fd9;},__metadata=this&&this[_0x2176ae(0x214)]||function(_0x548fb0,_0x37a12c){const _0x3210a6=_0x2176ae;if(typeof Reflect===_0x3210a6(0x1d6)&&typeof Reflect[_0x3210a6(0x209)]===_0x3210a6(0x1fe))return Reflect['metadata'](_0x548fb0,_0x37a12c);};Object[_0x2176ae(0x21d)](exports,_0x2176ae(0x1f3),{'value':!![]}),exports[_0x2176ae(0x1ee)]=void 0x0;const common_1=require(_0x2176ae(0x1c6)),typeorm_1=require(_0x2176ae(0x1bd)),bcrypt=require('bcryptjs');function _0x538c(){const _0x1fd86a=['\x27,\x20\x27','14BWTpUL','map','INTERNAL_SERVER_ERROR','HttpStatus','metadata','createBaseSiteConfig','encry','siteName','isVerifyEmail','https://api.openai.com','decorate',']、初始密码为[','inviteSendStatus','baiduCode','12fSoTbY','__metadata','registerSuccessEmailTeamName','__decorate','19024441','hashSync','error:\x20','length','Logger','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','defineProperty','2905715SfOMpW','Connection','58682PWVhEG','onModuleInit','registerVerifyExpir','design:paramtypes','robotAvatar','checkSuperAdmin','typeorm','nine-super','registerVerifyEmailTitle','connection','NineTeam团队','query','checkSiteBaseConfig','创建默认超级管理员失败！','registerFailEmailTitle','@nestjs/common','13901382EPjlYU','4507912lunrJL','firstRregisterSendModel4Count','insertId','58305YqGbyd','NineTeam账号激活失败','inviteGiveSendModel4Count','log','baiduSiteId','admin','NineTeam团队账号验证','20wsjAEt',',请妥善保管您的账号，我们将为您赠送50次对话额度和5次绘画额度、祝您使用愉快','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27','4717889RlFNRS','object','948846yJZhGO','初始化创建','44jQkZds','HttpException','registerSendModel3Count','invitedGuestSendModel4Count','invitedGuestSendDrawMjCount','\x0a\x20\x20<script>\x0a\x20\x20var\x20_hmt\x20=\x20_hmt\x20||\x20[];\x0a\x20\x20(function()\x20{\x0a\x20\x20\x20\x20var\x20hm\x20=\x20document.createElement(\x22script\x22);\x0a\x20\x20\x20\x20hm.src\x20=\x20\x22https://hm.baidu.com/hm.js?cb8c9a3bcadbc200e950b05f9c61a385\x22;\x0a\x20\x20\x20\x20var\x20s\x20=\x20document.getElementsByTagName(\x22script\x22)[0];\x0a\x20\x20\x20\x20s.parentNode.insertBefore(hm,\x20s);\x0a\x20\x20})();\x0a\x20\x20</script>\x0a','8ZZnUYh','qqNumber','configKey','registerVerifyEmailDesc','registerSuccessEmaileAppend','欢迎使用Nine\x20Team团队的产品服务,请在五分钟内完成你的账号激活,点击以下按钮激活您的账号，','vxNumber','\x0a####\x20NineAi\x20欢迎您\x0a\x20-\x20NineAi唯一官方网站\x20https://ai.jiangly.com\x0a\x20-\x20NineAi\x20作者VX：\x20J_longyan\x0a\x20-\x20NineAi\x20作者QQ：\x20927898639\x0a\x20-\x20欢迎使用Nine\x0a\x20-\x20初始管理员账号密码\x20\x20super\x20\x20nine-super\x20【前台后台登录都可以修改】\x0a\x20-\x20初始预览账号密码\x20\x20admin\x20\x20123456\x20【为后台查看账号\x20仅可查看部分非敏感数据】\x0a','replace','registerVerifyEmailFrom','5868soOKKR','userDefautlAvatar','firstRregisterSendDrawMjCount','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20(','inviteGiveSendModel3Count','DatabaseService','https://public-1300678944.cos.ap-shanghai.myqcloud.com/blog/1682571295452image.png','registerSendDrawMjCount','public','registerSendModel4Count','__esModule','927898639','join','getOwnPropertyDescriptor','baiduToken','createDefaultUser','registerFailEmailTeamName','openaiBaseUrl','Injectable','configVal','default@cooper.com','function','NineTeam团队账号激活成功','1800','registerSuccessEmailTitle','invitedGuestSendModel3Count','registerSendStatus'];_0x538c=function(){return _0x1fd86a;};return _0x538c();}function _0xec19(_0x4b8d1b,_0x24897e){const _0x538c07=_0x538c();return _0xec19=function(_0xec1902,_0x29b6c2){_0xec1902=_0xec1902-0x1ba;let _0xb22805=_0x538c07[_0xec1902];return _0xb22805;},_0xec19(_0x4b8d1b,_0x24897e);}let DatabaseService=class DatabaseService{constructor(_0x162360){const _0x270ef8=_0x2176ae;this[_0x270ef8(0x1c0)]=_0x162360;}async[_0x2176ae(0x221)](){const _0x3d9a45=_0x2176ae;await this[_0x3d9a45(0x1bc)](),await this[_0x3d9a45(0x1c3)]();}async[_0x2176ae(0x1bc)](){const _0x1ffe00=_0x2176ae,_0x3e5681=await this[_0x1ffe00(0x1c0)][_0x1ffe00(0x1c2)](_0x1ffe00(0x1d4));if(!_0x3e5681||_0x3e5681[_0x1ffe00(0x21a)]===0x0){const _0x4f1be8=bcrypt[_0x1ffe00(0x218)](_0x1ffe00(0x1be),0xa),_0x7778ab=bcrypt[_0x1ffe00(0x218)]('123456',0xa),_0x27e0a0=_0x1ffe00(0x1fd),_0x25ab0a='defaultAdmin@cooper.com',_0x1c1191={'username':'super','password':_0x4f1be8,'status':0x1,'email':_0x27e0a0,'sex':0x1,'role':'super'},_0x53fda8={'username':'admin','password':_0x7778ab,'status':0x1,'email':_0x25ab0a,'sex':0x1,'role':_0x1ffe00(0x1d0)};await this[_0x1ffe00(0x1f8)](_0x1c1191),await this['createDefaultUser'](_0x53fda8);}}async['createDefaultUser'](_0x373e87){const _0x210469=_0x2176ae;try{const {username:_0x4d10a6,password:_0x4a35ac,status:_0x2495cd,email:_0x2bc499,role:_0x3598da}=_0x373e87,_0x2d0047=await this[_0x210469(0x1c0)][_0x210469(0x1c2)](_0x210469(0x21c)+_0x4d10a6+_0x210469(0x204)+_0x4a35ac+_0x210469(0x204)+_0x2495cd+'\x27,\x20\x27'+_0x2bc499+_0x210469(0x204)+_0x3598da+'\x27)'),_0x565500=_0x2d0047[_0x210469(0x1ca)],_0x3ab47b=await this[_0x210469(0x1c0)][_0x210469(0x1c2)]('INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27'+_0x565500+'\x27,\x200,\x201000,\x20100)');common_1[_0x210469(0x21b)][_0x210469(0x1ce)](_0x210469(0x1d8)+_0x3598da+'用户成功、用户名为['+_0x4d10a6+_0x210469(0x210)+(_0x4d10a6==='super'?_0x210469(0x1be):'123456')+']\x20==============>\x20请注意查阅',_0x210469(0x1ee));}catch(_0x54609c){console['log']('error:\x20',_0x54609c);throw new common_1['HttpException'](_0x210469(0x1c4),common_1[_0x210469(0x208)][_0x210469(0x207)]);}}async[_0x2176ae(0x1c3)](){const _0x4bb4fb=_0x2176ae,_0x1d681c=[_0x4bb4fb(0x20c),_0x4bb4fb(0x1e0),_0x4bb4fb(0x1e5),_0x4bb4fb(0x1bb),'userDefautlAvatar'],_0x47653e=await this['connection'][_0x4bb4fb(0x1c2)](_0x4bb4fb(0x1ec)+_0x1d681c[_0x4bb4fb(0x206)](_0x2359c9=>'\x27'+_0x2359c9+'\x27')['join'](',')+')\x0a'),_0x134901=parseInt(_0x47653e[0x0]['count']);_0x134901===0x0&&await this[_0x4bb4fb(0x20a)]();}async[_0x2176ae(0x20a)](){const _0x291c60=_0x2176ae;try{const _0x46330e=_0x291c60(0x1de),_0x38c4ee=_0x291c60(0x1e6),_0x16b1c2=[{'configKey':_0x291c60(0x20c),'configVal':'Nine\x20Ai','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1e0),'configVal':_0x291c60(0x1f4),'public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1e5),'configVal':'J_longyan','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1bb),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1ea),'configVal':_0x291c60(0x1ef),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x212),'configVal':_0x46330e,'public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1cf),'configVal':_0x291c60(0x217),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1f7),'configVal':'121.a1600b9b60910feea2ef627ea9776a6f.YGP_CWCOA2lNcIGJ27BwXGxa6nZhBQyLUS4XVaD.TWt9TA','public':0x0,'encry':0x0},{'configKey':'buyCramiAddress','configVal':'','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1fa),'configVal':_0x291c60(0x20e),'public':0x0,'encry':0x0},{'configKey':'noticeInfo','configVal':_0x38c4ee,'public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1bf),'configVal':_0x291c60(0x1d1),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1e2),'configVal':_0x291c60(0x1e4),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1e8),'configVal':_0x291c60(0x1c1),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x222),'configVal':_0x291c60(0x200),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x201),'configVal':_0x291c60(0x1ff),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x215),'configVal':_0x291c60(0x1c1),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1e3),'configVal':_0x291c60(0x1d3),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1c5),'configVal':_0x291c60(0x1cc),'public':0x0,'encry':0x0},{'configKey':_0x291c60(0x1f9),'configVal':'NineTeam团队','public':0x0,'encry':0x0},{'configKey':_0x291c60(0x203),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1db),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1f2),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1f0),'configVal':'3','public':0x1,'encry':0x0},{'configKey':'firstRegisterSendStatus','configVal':'1','public':0x1,'encry':0x0},{'configKey':'firstRegisterSendRank','configVal':'500','public':0x1,'encry':0x0},{'configKey':'firstRregisterSendModel3Count','configVal':'20','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1c9),'configVal':'2','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1eb),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x211),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1ed),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1cd),'configVal':'3','public':0x1,'encry':0x0},{'configKey':'inviteGiveSendDrawMjCount','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x202),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1dc),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x1dd),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x291c60(0x20d),'configVal':'1','public':0x1,'encry':0x0},{'configKey':'MjdrawCount','configVal':'1','public':0x1,'encry':0x0}],_0x7a52d9=await this[_0x291c60(0x1c0)][_0x291c60(0x1c2)]('INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20'+_0x16b1c2[_0x291c60(0x206)](_0x448fb7=>'(\x27'+_0x448fb7[_0x291c60(0x1e1)]+_0x291c60(0x204)+_0x448fb7[_0x291c60(0x1fc)][_0x291c60(0x1e7)](/'/g,'\x5c\x27')+_0x291c60(0x204)+_0x448fb7[_0x291c60(0x1f1)]+_0x291c60(0x204)+_0x448fb7[_0x291c60(0x20b)]+'\x27)')[_0x291c60(0x1f5)](',\x20'));common_1['Logger'][_0x291c60(0x1ce)]('初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅',_0x291c60(0x1ee));}catch(_0x595ba9){console[_0x291c60(0x1ce)](_0x291c60(0x219),_0x595ba9);throw new common_1[(_0x291c60(0x1da))]('创建默认网站配置失败！',common_1[_0x291c60(0x208)]['INTERNAL_SERVER_ERROR']);}}};DatabaseService=__decorate([(0x0,common_1[_0x2176ae(0x1fb)])(),__metadata(_0x2176ae(0x1ba),[typeorm_1[_0x2176ae(0x21f)]])],DatabaseService),exports[_0x2176ae(0x1ee)]=DatabaseService;