'use strict';function _0x71ac(){const _0x33fc96=['\x27,\x20\x27',']、初始密码为[','8uKqMWD','admin','firstRregisterSendModel4Count','join','createDefaultUser','userDefautlAvatar','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20(','HttpException','2473120fZkOFD','2218EyRkvw','Injectable','function','defaultAdmin@cooper.com','DatabaseService','Logger','375486zZhRID','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27','hashSync','\x0a\x20\x20<script>\x0a\x20\x20var\x20_hmt\x20=\x20_hmt\x20||\x20[];\x0a\x20\x20(function()\x20{\x0a\x20\x20\x20\x20var\x20hm\x20=\x20document.createElement(\x22script\x22);\x0a\x20\x20\x20\x20hm.src\x20=\x20\x22https://hm.baidu.com/hm.js?cb8c9a3bcadbc200e950b05f9c61a385\x22;\x0a\x20\x20\x20\x20var\x20s\x20=\x20document.getElementsByTagName(\x22script\x22)[0];\x0a\x20\x20\x20\x20s.parentNode.insertBefore(hm,\x20s);\x0a\x20\x20})();\x0a\x20\x20</script>\x0a','object','checkSuperAdmin','connection','qqNumber','registerFailEmailTeamName','registerSuccessEmaileAppend','2413420CyacmR','inviteGiveSendModel4Count','replace','baiduCode','1800','openaiBaseUrl','firstRegisterSendRank','NineTeam账号激活失败','500','robotAvatar','registerVerifyEmailFrom','创建默认超级管理员失败！','初始化创建','query','bcryptjs','19024441','invitedGuestSendModel3Count','HttpStatus','registerSuccessEmailTitle','buyCramiAddress','registerSendModel4Count','1788234aztTph','registerVerifyEmailDesc','123456','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','invitedGuestSendModel4Count','318tcVFEB','inviteSendStatus','6RjUvBF','siteName','invitedGuestSendDrawMjCount','checkSiteBaseConfig','baiduSiteId','metadata','createBaseSiteConfig','欢迎使用Nine\x20Team团队的产品服务,请在五分钟内完成你的账号激活,点击以下按钮激活您的账号，','map','registerSendModel3Count','MjdrawCount','927898639','length','初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅',',请妥善保管您的账号，我们将为您赠送50次对话额度和5次绘画额度、祝您使用愉快','registerVerifyExpir','18JrpoiC','registerSendStatus','default@cooper.com','https://api.openai.com','typeorm','5746521rHzUan','decorate','encry','defineProperty','\x0a####\x20NineAi\x20欢迎您\x0a\x20-\x20NineAi唯一官方网站\x20https://ai.jiangly.com\x0a\x20-\x20NineAi\x20作者VX：\x20J_longyan\x0a\x20-\x20NineAi\x20作者QQ：\x20927898639\x0a\x20-\x20欢迎使用Nine\x0a\x20-\x20初始管理员账号密码\x20\x20super\x20\x20nine-super\x20【前台后台登录都可以修改】\x0a\x20-\x20初始预览账号密码\x20\x20admin\x20\x20123456\x20【为后台查看账号\x20仅可查看部分非敏感数据】\x0a','inviteGiveSendModel3Count','__decorate','vxNumber','用户成功、用户名为[','inviteGiveSendDrawMjCount','121.a1600b9b60910feea2ef627ea9776a6f.YGP_CWCOA2lNcIGJ27BwXGxa6nZhBQyLUS4XVaD.TWt9TA','super','configVal','INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20','__esModule','365320wBMTxS','isVerifyEmail','configKey','NineTeam团队账号验证','创建默认网站配置失败！','log','NineTeam团队','firstRregisterSendDrawMjCount'];_0x71ac=function(){return _0x33fc96;};return _0x71ac();}const _0x47eedd=_0x1639;(function(_0x14da68,_0x533c84){const _0x1e468d=_0x1639,_0x2db20f=_0x14da68();while(!![]){try{const _0x3bd8a2=-parseInt(_0x1e468d(0x1bd))/0x1*(parseInt(_0x1e468d(0x1e7))/0x2)+-parseInt(_0x1e468d(0x1c3))/0x3*(-parseInt(_0x1e468d(0x1b4))/0x4)+parseInt(_0x1e468d(0x1bc))/0x5+-parseInt(_0x1e468d(0x1e9))/0x6*(-parseInt(_0x1e468d(0x1e2))/0x7)+-parseInt(_0x1e468d(0x1aa))/0x8*(parseInt(_0x1e468d(0x1f9))/0x9)+parseInt(_0x1e468d(0x1cd))/0xa+-parseInt(_0x1e468d(0x19b))/0xb;if(_0x3bd8a2===_0x533c84)break;else _0x2db20f['push'](_0x2db20f['shift']());}catch(_0x2af727){_0x2db20f['push'](_0x2db20f['shift']());}}}(_0x71ac,0x43395));var __decorate=this&&this[_0x47eedd(0x1a1)]||function(_0x3efc3f,_0x86e8b7,_0x22bc44,_0x273a7a){const _0x44dd18=_0x47eedd;var _0x4a5595=arguments['length'],_0xcf7fad=_0x4a5595<0x3?_0x86e8b7:_0x273a7a===null?_0x273a7a=Object['getOwnPropertyDescriptor'](_0x86e8b7,_0x22bc44):_0x273a7a,_0x4db045;if(typeof Reflect===_0x44dd18(0x1c7)&&typeof Reflect[_0x44dd18(0x19c)]===_0x44dd18(0x1bf))_0xcf7fad=Reflect['decorate'](_0x3efc3f,_0x86e8b7,_0x22bc44,_0x273a7a);else{for(var _0x555c38=_0x3efc3f[_0x44dd18(0x1f5)]-0x1;_0x555c38>=0x0;_0x555c38--)if(_0x4db045=_0x3efc3f[_0x555c38])_0xcf7fad=(_0x4a5595<0x3?_0x4db045(_0xcf7fad):_0x4a5595>0x3?_0x4db045(_0x86e8b7,_0x22bc44,_0xcf7fad):_0x4db045(_0x86e8b7,_0x22bc44))||_0xcf7fad;}return _0x4a5595>0x3&&_0xcf7fad&&Object[_0x44dd18(0x19e)](_0x86e8b7,_0x22bc44,_0xcf7fad),_0xcf7fad;},__metadata=this&&this['__metadata']||function(_0x440f66,_0x3865a2){const _0x5150bc=_0x47eedd;if(typeof Reflect==='object'&&typeof Reflect[_0x5150bc(0x1ee)]===_0x5150bc(0x1bf))return Reflect['metadata'](_0x440f66,_0x3865a2);};Object[_0x47eedd(0x19e)](exports,_0x47eedd(0x1a9),{'value':!![]}),exports[_0x47eedd(0x1c1)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x47eedd(0x19a)),bcrypt=require(_0x47eedd(0x1db));function _0x1639(_0x4c2d70,_0x3933d7){const _0x71ac89=_0x71ac();return _0x1639=function(_0x163924,_0x376fe9){_0x163924=_0x163924-0x199;let _0x1af956=_0x71ac89[_0x163924];return _0x1af956;},_0x1639(_0x4c2d70,_0x3933d7);}let DatabaseService=class DatabaseService{constructor(_0x320a48){const _0x2a2289=_0x47eedd;this[_0x2a2289(0x1c9)]=_0x320a48;}async['onModuleInit'](){const _0x4433c4=_0x47eedd;await this[_0x4433c4(0x1c8)](),await this[_0x4433c4(0x1ec)]();}async['checkSuperAdmin'](){const _0x517d57=_0x47eedd,_0x5f5b9b=await this[_0x517d57(0x1c9)][_0x517d57(0x1da)](_0x517d57(0x1c4));if(!_0x5f5b9b||_0x5f5b9b[_0x517d57(0x1f5)]===0x0){const _0x4cba9a=bcrypt[_0x517d57(0x1c5)]('nine-super',0xa),_0x1885f2=bcrypt['hashSync']('123456',0xa),_0x37efd1=_0x517d57(0x1fb),_0x54741e=_0x517d57(0x1c0),_0x37c080={'username':_0x517d57(0x1a6),'password':_0x4cba9a,'status':0x1,'email':_0x37efd1,'sex':0x1,'role':_0x517d57(0x1a6)},_0x54ef2b={'username':_0x517d57(0x1b5),'password':_0x1885f2,'status':0x1,'email':_0x54741e,'sex':0x1,'role':'admin'};await this[_0x517d57(0x1b8)](_0x37c080),await this[_0x517d57(0x1b8)](_0x54ef2b);}}async['createDefaultUser'](_0x1e688c){const _0x3eccef=_0x47eedd;try{const {username:_0x248a08,password:_0x12cba7,status:_0x3cc52e,email:_0x2616fb,role:_0x2ac791}=_0x1e688c,_0x36a8b7=await this[_0x3eccef(0x1c9)][_0x3eccef(0x1da)](_0x3eccef(0x1e5)+_0x248a08+'\x27,\x20\x27'+_0x12cba7+_0x3eccef(0x1b2)+_0x3cc52e+_0x3eccef(0x1b2)+_0x2616fb+_0x3eccef(0x1b2)+_0x2ac791+'\x27)'),_0x200ff6=_0x36a8b7['insertId'],_0x53e86a=await this['connection'][_0x3eccef(0x1da)]('INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27'+_0x200ff6+'\x27,\x200,\x201000,\x20100)');common_1[_0x3eccef(0x1c2)]['log'](_0x3eccef(0x1d9)+_0x2ac791+_0x3eccef(0x1a3)+_0x248a08+_0x3eccef(0x1b3)+(_0x248a08==='super'?'nine-super':_0x3eccef(0x1e4))+']\x20==============>\x20请注意查阅',_0x3eccef(0x1c1));}catch(_0x44ae68){console[_0x3eccef(0x1af)]('error:\x20',_0x44ae68);throw new common_1[(_0x3eccef(0x1bb))](_0x3eccef(0x1d8),common_1[_0x3eccef(0x1de)]['INTERNAL_SERVER_ERROR']);}}async[_0x47eedd(0x1ec)](){const _0x3af5cb=_0x47eedd,_0x2b2bcb=['siteName',_0x3af5cb(0x1ca),_0x3af5cb(0x1a2),_0x3af5cb(0x1d6),_0x3af5cb(0x1b9)],_0x492a2c=await this['connection'][_0x3af5cb(0x1da)](_0x3af5cb(0x1ba)+_0x2b2bcb[_0x3af5cb(0x1f1)](_0x3ab6ce=>'\x27'+_0x3ab6ce+'\x27')[_0x3af5cb(0x1b7)](',')+')\x0a'),_0x548dd1=parseInt(_0x492a2c[0x0]['count']);_0x548dd1===0x0&&await this[_0x3af5cb(0x1ef)]();}async[_0x47eedd(0x1ef)](){const _0x13e3b3=_0x47eedd;try{const _0x579a3b=_0x13e3b3(0x1c6),_0x373c5e=_0x13e3b3(0x19f),_0x43fcba=[{'configKey':_0x13e3b3(0x1ea),'configVal':'Nine\x20Ai','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1ca),'configVal':_0x13e3b3(0x1f4),'public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1a2),'configVal':'J_longyan','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1d6),'configVal':'','public':0x1,'encry':0x0},{'configKey':'userDefautlAvatar','configVal':'https://public-1300678944.cos.ap-shanghai.myqcloud.com/blog/1682571295452image.png','public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1d0),'configVal':_0x579a3b,'public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1ed),'configVal':_0x13e3b3(0x1dc),'public':0x0,'encry':0x0},{'configKey':'baiduToken','configVal':_0x13e3b3(0x1a5),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1e0),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1d2),'configVal':_0x13e3b3(0x199),'public':0x0,'encry':0x0},{'configKey':'noticeInfo','configVal':_0x373c5e,'public':0x1,'encry':0x0},{'configKey':'registerVerifyEmailTitle','configVal':_0x13e3b3(0x1ad),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1e3),'configVal':_0x13e3b3(0x1f0),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1d7),'configVal':_0x13e3b3(0x1b0),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1f8),'configVal':_0x13e3b3(0x1d1),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1df),'configVal':'NineTeam团队账号激活成功','public':0x0,'encry':0x0},{'configKey':'registerSuccessEmailTeamName','configVal':_0x13e3b3(0x1b0),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1cc),'configVal':_0x13e3b3(0x1f7),'public':0x0,'encry':0x0},{'configKey':'registerFailEmailTitle','configVal':_0x13e3b3(0x1d4),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1cb),'configVal':_0x13e3b3(0x1b0),'public':0x0,'encry':0x0},{'configKey':_0x13e3b3(0x1fa),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1f2),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1e1),'configVal':'3','public':0x1,'encry':0x0},{'configKey':'registerSendDrawMjCount','configVal':'3','public':0x1,'encry':0x0},{'configKey':'firstRegisterSendStatus','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1d3),'configVal':_0x13e3b3(0x1d5),'public':0x1,'encry':0x0},{'configKey':'firstRregisterSendModel3Count','configVal':'20','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1b6),'configVal':'2','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1b1),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1e8),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1a0),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1ce),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1a4),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1dd),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1e6),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1eb),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1ab),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x13e3b3(0x1f3),'configVal':'1','public':0x1,'encry':0x0}],_0x31b86a=await this[_0x13e3b3(0x1c9)][_0x13e3b3(0x1da)](_0x13e3b3(0x1a8)+_0x43fcba['map'](_0x49b567=>'(\x27'+_0x49b567[_0x13e3b3(0x1ac)]+_0x13e3b3(0x1b2)+_0x49b567[_0x13e3b3(0x1a7)][_0x13e3b3(0x1cf)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x49b567['public']+_0x13e3b3(0x1b2)+_0x49b567[_0x13e3b3(0x19d)]+'\x27)')['join'](',\x20'));common_1[_0x13e3b3(0x1c2)][_0x13e3b3(0x1af)](_0x13e3b3(0x1f6),_0x13e3b3(0x1c1));}catch(_0x1acf6e){console[_0x13e3b3(0x1af)]('error:\x20',_0x1acf6e);throw new common_1[(_0x13e3b3(0x1bb))](_0x13e3b3(0x1ae),common_1['HttpStatus']['INTERNAL_SERVER_ERROR']);}}};DatabaseService=__decorate([(0x0,common_1[_0x47eedd(0x1be)])(),__metadata('design:paramtypes',[typeorm_1['Connection']])],DatabaseService),exports[_0x47eedd(0x1c1)]=DatabaseService;